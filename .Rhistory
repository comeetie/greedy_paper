??lazyload
??lazy
library("qwarps2")
library("qwraps2")
lazyload_cache_labels("./realnetex_cache/latex/simsbmmotiv_aa0f982bf4c7997b15d8aa08f59a280a.RData")
lazyload_cache_labels("./realnetex_cache/latex/simsbmmotiv_aa0f982bf4c7997b15d8aa08f59a280a")
?lazyload_cache_dir
?lazyload_cache_labels
lazyload_cache_labels("simsbmmotiv_aa0f982bf4c7997b15d8aa08f59a280a","./realnetex_cache/latex/")
lazyload_cache_labels("simsbmmotiv_aa0f982bf4c7997b15d8aa08f59a280a","./realnetex_cache/latex/")
lazyload_cache_labels("simsbmmotiv","./realnetex_cache/latex/")
knitr::opts_chunk$set(echo = TRUE)
p1=plot(fit_o)+ggtitle("greedy")
plot(fit_0)
plot(fit_o)
p1=plot(fit_o)+ggtitle("greedy")
library(ggplot2)
plot(fit_o)
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(cache.path='./simsbm_cache/latex/')
Nbsim = 100
S=matrix(0,1500,Nbsim)
Fi=matrix(0,1500,Nbsim)
Fi_o=matrix(0,1500,Nbsim)
Fi_s=matrix(0,1500,Nbsim)
Fi_si=matrix(0,1500,Nbsim)
Fi_ms=matrix(0,1500,Nbsim)
Xlist = list()
for (s in 1:Nbsim){
N=1500
K=15
pi=rep(1/K,K)
lambda  = 0.1
lambda_o = 0.025
Ks=5
mu = bdiag(lapply(1:(K/Ks), function(k){matrix(lambda_o,Ks,Ks)+diag(rep(lambda,Ks))}))+0.001
sbm = rsbm(N,pi,mu)
S[,s]=sbm$cl
Xlist[[s]]=sbm
fit = greed(sbm$x,model=new("sbm"),alg = new("hybrid",pop_size=50))
Fi[,s]=fit@cl
fit_o = greed::fit_greed(new("sbm"),list(X=sbm$x),sample(1:20,nrow(sbm$x),replace = TRUE))
Fi_o[,s] = fit_o@cl
cl=spectral(sbm$x,15)
Fi_s[,s] = cl
fit_sp_init=greed(sbm$x,model=new("sbm"),alg=new("seed"))
Fi_si[,s] = fit_sp_init@cl
fit_ms = greed(sbm$x,model=new("sbm"),alg = new("multistarts"))
Fi_ms[,s]=fit_ms@cl
}
